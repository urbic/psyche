/primes bitset def

/testprime
{
	true exch
	primes
	{
		2 copy
		dup mul
		lt { pop exit } if

		1 index exch
		mod 0 eq
		{
			exch not exch
			exit
		}
		if
	}
	forall
	primes exch append
}
bind def

2 1 arguments 1 get cvi
{
	dup
	testprime
	{ == }
	{ pop }
	ifelse
}
bind for

quit
